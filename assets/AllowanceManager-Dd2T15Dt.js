import{c as $,j as e}from"./index-DAJb82m-.js";import{r as m,R as ee}from"./router-LlB4DS0p.js";import{C as te}from"./circle-alert-BYbD2sxl.js";import{T as se}from"./trending-up-BZlzOUnJ.js";import{D as ae}from"./download-qrF6Fg_9.js";import"./vendor-c5ypKtDW.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],le=$("calculator",ne);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],re=$("check",ce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ie=$("chevron-left",oe);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],me=$("chevron-right",ue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],he=$("rotate-ccw",de);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],xe=$("school",be),pe=c=>{const{nurseryAmount:a=0,kg1Amount:t=0,kg2Amount:n=0,basic1Amount:s=0,basic2Amount:l=0,basic3Amount:i=0,basic4Amount:u=0,basic5Amount:h=0,basic6Amount:f=0,basic7GeneralAmount:k=0,basic7JHSAmount:A=0,basic8GeneralAmount:H=0,basic8JHSAmount:w=0,basic9GeneralAmount:b=0,basic9JHSAmount:j=0}=c,J=a+t+n+s+l+i+u+h+f+k+H+b,N=A+w+j,T=s+l+i+u+h+f+k+A+H+w+b+j;return{totalGeneral:J,totalJHS:N,totalSum:T}},ge=(c,a=0)=>{const t=a>0?a:0,n=c-t,s=n*.05,l=n-s,i=l*.05,u=l-i;return{welfare:t,office:s,kitchen:i,balanceAfterWelfare:n,balanceAfterOffice:l,balanceAfterKitchen:u}},fe=(c,a,t=1,n=1)=>{const s=t>0?c/t:0,l=n>0?a/n:0;return{eachTeacherAmount:s,eachJHSTeacherAmount:l}},q=c=>{const a=pe(c),t=ge(a.totalGeneral,c.welfareAmount),n=fe(t.balanceAfterKitchen,a.totalJHS,c.numTeachers,c.numJHSTeachers);return{totals:a,deductions:t,teacherAmounts:n}},g=c=>new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS",minimumFractionDigits:2}).format(c||0),W=c=>{const a={};return["numTeachers","numJHSTeachers"].forEach(n=>{(!c[n]||c[n]<=0)&&(a[n]=`${n} must be greater than 0`)}),{isValid:Object.keys(a).length===0,errors:a}};class Ae{constructor(){this.calculations=new Map}async calculateAllowances(a){try{const t=W(a);if(!t.isValid)throw new Error(`Validation failed: ${Object.values(t.errors).join(", ")}`);await new Promise(i=>setTimeout(i,500));const n=q(a),s=Date.now().toString(),l={id:s,inputs:a,results:n,timestamp:new Date().toISOString()};return this.calculations.set(s,l),{success:!0,data:l,message:"Calculation completed successfully"}}catch(t){return{success:!1,error:t.message,data:null}}}async getCalculation(a){try{await new Promise(n=>setTimeout(n,100));const t=this.calculations.get(a);if(!t)throw new Error("Calculation not found");return{success:!0,data:t,message:"Calculation retrieved successfully"}}catch(t){return{success:!1,error:t.message,data:null}}}async getAllCalculations(){try{return await new Promise(t=>setTimeout(t,200)),{success:!0,data:Array.from(this.calculations.values()).sort((t,n)=>new Date(n.timestamp)-new Date(t.timestamp)),message:"All calculations retrieved successfully"}}catch(a){return{success:!1,error:a.message,data:[]}}}async deleteCalculation(a){try{if(await new Promise(n=>setTimeout(n,100)),!this.calculations.delete(a))throw new Error("Calculation not found");return{success:!0,message:"Calculation deleted successfully"}}catch(t){return{success:!1,error:t.message}}}async updateCalculation(a,t){try{const n=this.calculations.get(a);if(!n)throw new Error("Calculation not found");const s={...n.inputs,...t},l=W(s);if(!l.isValid)throw new Error(`Validation failed: ${Object.values(l.errors).join(", ")}`);await new Promise(h=>setTimeout(h,300));const i=q(s),u={...n,inputs:s,results:i,timestamp:new Date().toISOString()};return this.calculations.set(a,u),{success:!0,data:u,message:"Calculation updated successfully"}}catch(n){return{success:!1,error:n.message,data:null}}}async exportCalculation(a,t="json"){try{const n=this.calculations.get(a);if(!n)throw new Error("Calculation not found");await new Promise(l=>setTimeout(l,200));let s;switch(t.toLowerCase()){case"json":s=JSON.stringify(n,null,2);break;case"csv":s=this.convertToCSV(n);break;default:throw new Error("Unsupported export format")}return{success:!0,data:s,filename:`calculation_${a}.${t}`,message:"Export completed successfully"}}catch(n){return{success:!1,error:n.message,data:null}}}convertToCSV(a){const{inputs:t,results:n}=a,s=[];return s.push("Category,Item,Amount"),s.push("Input,Nursery Amount,"+(t.nurseryAmount||0)),s.push("Input,KG1 Amount,"+(t.kg1Amount||0)),s.push("Input,KG2 Amount,"+(t.kg2Amount||0)),s.push("Input,Basic1 Amount,"+(t.basic1Amount||0)),s.push("Input,Basic2 Amount,"+(t.basic2Amount||0)),s.push("Input,Basic3 Amount,"+(t.basic3Amount||0)),s.push("Input,Basic4 Amount,"+(t.basic4Amount||0)),s.push("Input,Basic5 Amount,"+(t.basic5Amount||0)),s.push("Input,Basic6 Amount,"+(t.basic6Amount||0)),s.push("Input,Basic7-General Amount,"+(t.basic7GeneralAmount||0)),s.push("Input,Basic7-JHS Amount,"+(t.basic7JHSAmount||0)),s.push("Input,Basic8-General Amount,"+(t.basic8GeneralAmount||0)),s.push("Input,Basic8-JHS Amount,"+(t.basic8JHSAmount||0)),s.push("Input,Basic9-General Amount,"+(t.basic9GeneralAmount||0)),s.push("Input,Basic9-JHS Amount,"+(t.basic9JHSAmount||0)),s.push("Input,Welfare Amount,"+(t.welfareAmount||0)),s.push("Input,Kitchen,"+(t.kitchen||0)),s.push("Input,Number of Teachers,"+(t.numTeachers||0)),s.push("Input,Number of JHS Teachers,"+(t.numJHSTeachers||0)),s.push("Result,Total General,"+n.totals.totalGeneral),s.push("Result,Total JHS,"+n.totals.totalJHS),s.push("Result,Total Sum,"+n.totals.totalSum),s.push("Result,Welfare Deduction,"+n.deductions.welfare),s.push("Result,Office Deduction,"+n.deductions.office),s.push("Result,Kitchen Deduction,"+n.deductions.kitchen),s.push("Result,Each Teacher Amount,"+n.teacherAmounts.eachTeacherAmount),s.push("Result,Each JHS Teacher Amount,"+n.teacherAmounts.eachJHSTeacherAmount),s.join(`
`)}async importCalculations(a){try{await new Promise(s=>setTimeout(s,300));let t=0;const n=[];for(const s of a)try{if(!s.inputs||!s.results)throw new Error("Invalid calculation data structure");const l=W(s.inputs);if(!l.isValid)throw new Error(`Invalid inputs: ${Object.values(l.errors).join(", ")}`);const i=s.id||Date.now().toString()+Math.random().toString(36).substr(2,9),u={...s,id:i,timestamp:s.timestamp||new Date().toISOString()};this.calculations.set(i,u),t++}catch(l){n.push(`Failed to import calculation: ${l.message}`)}return{success:!0,message:`Successfully imported ${t} calculations`,imported:t,errors:n.length>0?n:void 0}}catch(t){return{success:!1,error:t.message,imported:0}}}async getCalculationStats(){try{await new Promise(l=>setTimeout(l,100));const a=Array.from(this.calculations.values());if(a.length===0)return{success:!0,data:{totalCalculations:0,averageTotalSum:0,averageTeacherAmount:0,averageJHSTeacherAmount:0}};const t=a.reduce((l,i)=>l+i.results.totals.totalSum,0),n=a.reduce((l,i)=>l+i.results.teacherAmounts.eachTeacherAmount,0),s=a.reduce((l,i)=>l+i.results.teacherAmounts.eachJHSTeacherAmount,0);return{success:!0,data:{totalCalculations:a.length,averageTotalSum:t/a.length,averageTeacherAmount:n/a.length,averageJHSTeacherAmount:s/a.length,latestCalculation:a.sort((l,i)=>new Date(i.timestamp)-new Date(l.timestamp))[0]}}}catch(a){return{success:!1,error:a.message,data:null}}}async clearAllCalculations(){try{await new Promise(t=>setTimeout(t,200));const a=this.calculations.size;return this.calculations.clear(),{success:!0,message:`Cleared ${a} calculations`,clearedCount:a}}catch(a){return{success:!1,error:a.message}}}}const C=new Ae,je=()=>{const[c,a]=m.useState({nurseryAmount:0,kg1Amount:0,kg2Amount:0,basic1Amount:0,basic2Amount:0,basic3Amount:0,basic4Amount:0,basic5Amount:0,basic6Amount:0,basic7GeneralAmount:0,basic7JHSAmount:0,basic8GeneralAmount:0,basic8JHSAmount:0,basic9GeneralAmount:0,basic9JHSAmount:0,welfareAmount:0,numTeachers:1,numJHSTeachers:1}),[t,n]=m.useState(null),[s,l]=m.useState(!1),[i,u]=m.useState(null),[h,f]=m.useState(0),[k,A]=m.useState([]),[H,w]=m.useState(null),b=[{title:"Early Years",fields:["nurseryAmount","kg1Amount","kg2Amount"],description:"Enter amounts for Nursery, KG1, and KG2 classes",icon:"home"},{title:"Basic 1-3",fields:["basic1Amount","basic2Amount","basic3Amount"],description:"Enter amounts for Basic 1, 2, and 3 classes",icon:"book"},{title:"Basic 4-6",fields:["basic4Amount","basic5Amount","basic6Amount"],description:"Enter amounts for Basic 4, 5, and 6 classes",icon:"bookOpen"},{title:"Basic 7-9 General",fields:["basic7GeneralAmount","basic8GeneralAmount","basic9GeneralAmount"],description:"Enter amounts for Basic 7, 8, and 9 General classes",icon:"graduation"},{title:"Basic 7-9 JHS",fields:["basic7JHSAmount","basic8JHSAmount","basic9JHSAmount"],description:"Enter amounts for Basic 7, 8, and 9 JHS classes",icon:"award"},{title:"Additional Info",fields:["welfareAmount","numTeachers","numJHSTeachers"],description:"Enter welfare, and teacher information",icon:"users"}],j=m.useCallback((r,o)=>{const p=parseFloat(o)||0;a(y=>({...y,[r]:p})),u(null)},[]),J=m.useCallback(r=>{a(o=>({...o,...r})),u(null)},[]),N=m.useCallback(async(r=!1)=>{if(!(!r&&(c.numTeachers<=0||c.numJHSTeachers<=0))){l(!0),u(null);try{const o=await C.calculateAllowances(c);o.success?(n(o.data.results),A(p=>[o.data,...p.slice(0,9)]),R()):(u(o.error),n(null))}catch{u("An unexpected error occurred during calculation"),n(null)}finally{l(!1)}}},[c]),T=m.useCallback(()=>{a({nurseryAmount:0,kg1Amount:0,kg2Amount:0,basic1Amount:0,basic2Amount:0,basic3Amount:0,basic4Amount:0,basic5Amount:0,basic6Amount:0,basic7GeneralAmount:0,basic7JHSAmount:0,basic8GeneralAmount:0,basic8JHSAmount:0,basic9GeneralAmount:0,basic9JHSAmount:0,welfareAmount:0,numTeachers:1,numJHSTeachers:1}),n(null),u(null),f(0)},[]),F=m.useCallback(()=>{h<b.length-1&&f(r=>r+1)},[h,b.length]),L=m.useCallback(()=>{h>0&&f(r=>r-1)},[h]),O=m.useCallback(r=>{r>=0&&r<b.length&&f(r)},[b.length]),_=m.useCallback(r=>{a(r.inputs),n(r.results),u(null),f(b.length-1)},[b.length]),M=m.useCallback(async r=>{try{l(!0);const o=await C.deleteCalculation(r);o.success?(A(p=>p.filter(y=>y.id!==r)),R()):u(o.error)}catch{u("Failed to delete calculation")}finally{l(!1)}},[]),d=m.useCallback(async(r,o="json")=>{l(!0);try{const p=await C.exportCalculation(r,o);if(p.success){const y=new Blob([p.data],{type:o==="json"?"application/json":"text/csv"}),D=URL.createObjectURL(y),v=document.createElement("a");v.href=D,v.download=p.filename,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(D)}else u(p.error)}catch{u("Export failed")}finally{l(!1)}},[]),x=m.useCallback(async(r="json")=>{l(!0);try{const o=await C.getAllCalculations();if(o.success&&o.data.length>0){let p,y;if(r==="json")p=JSON.stringify(o.data,null,2),y=`all_calculations_${new Date().getTime()}.json`;else{const S=["Category,Item,Amount,Calculation_ID,Timestamp"];o.data.forEach(Q=>{const{inputs:Y,results:B,id:I,timestamp:G}=Q;Object.entries(Y).forEach(([X,Z])=>{S.push(`Input,${X},${Z},${I},${G}`)}),S.push(`Result,Total General,${B.totals.totalGeneral},${I},${G}`),S.push(`Result,Total JHS,${B.totals.totalJHS},${I},${G}`),S.push(`Result,Total Sum,${B.totals.totalSum},${I},${G}`),S.push(`Result,Each Teacher Amount,${B.teacherAmounts.eachTeacherAmount},${I},${G}`),S.push(`Result,Each JHS Teacher Amount,${B.teacherAmounts.eachJHSTeacherAmount},${I},${G}`),S.push("")}),p=S.join(`
`),y=`all_calculations_${new Date().getTime()}.csv`}const D=new Blob([p],{type:r==="json"?"application/json":"text/csv"}),v=URL.createObjectURL(D),E=document.createElement("a");E.href=v,E.download=y,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(v)}else u("No calculations to export")}catch{u("Export failed")}finally{l(!1)}},[]),K=m.useCallback(async()=>{try{l(!0);const r=await C.clearAllCalculations();r.success?(A([]),w(null)):u(r.error)}catch{u("Failed to clear history")}finally{l(!1)}},[]),R=m.useCallback(async()=>{try{const r=await C.getCalculationStats();r.success&&w(r.data)}catch(r){console.error("Failed to update stats:",r)}},[]),P=m.useCallback(()=>(b[h]?.fields,h===b.length-1?c.numTeachers>0&&c.numJHSTeachers>0:!0),[h,b,c]),z=m.useCallback(()=>P(),[P]),V=m.useCallback(()=>Object.entries(c).filter(([r])=>!r.includes("num")&&!r.includes("Teachers")).reduce((r,[,o])=>r+(parseFloat(o)||0),0),[c]),U=m.useCallback(()=>V()>0||c.numTeachers>1||c.numJHSTeachers>1,[V,c]);return m.useEffect(()=>{const r=setTimeout(()=>{c.numTeachers>0&&c.numJHSTeachers>0&&U()&&N(!1)},1e3);return()=>clearTimeout(r)},[c,N,U]),m.useEffect(()=>{(async()=>{try{const o=await C.getAllCalculations();o.success&&A(o.data)}catch(o){console.error("Failed to load calculation history:",o)}})(),R()},[R]),{inputs:c,results:t,isLoading:s,error:i,currentStep:h,calculationHistory:k,formSteps:b,stats:H,updateInput:j,updateInputs:J,calculate:N,resetInputs:T,nextStep:F,prevStep:L,goToStep:O,loadFromHistory:_,deleteFromHistory:M,exportCalculation:d,exportAllCalculations:x,clearAllHistory:K,isCurrentStepValid:P,canProceed:z,getTotalInputs:V,hasAnyInput:U,isFirstStep:h===0,isLastStep:h===b.length-1,currentStepData:b[h],totalSteps:b.length}},Ce=()=>{const{inputs:c,results:a,isLoading:t,error:n,currentStep:s,calculationHistory:l,formSteps:i,updateInput:u,calculate:h,resetInputs:f,nextStep:k,prevStep:A,goToStep:H,loadFromHistory:w,exportCalculation:b,canProceed:j,isFirstStep:J,isLastStep:N,currentStepData:T}=je(),F=d=>({nurseryAmount:"Nursery Amount",kg1Amount:"KG1 Amount",kg2Amount:"KG2 Amount",basic1Amount:"Basic 1 Amount",basic2Amount:"Basic 2 Amount",basic3Amount:"Basic 3 Amount",basic4Amount:"Basic 4 Amount",basic5Amount:"Basic 5 Amount",basic6Amount:"Basic 6 Amount",basic7GeneralAmount:"Basic 7 General Amount",basic7JHSAmount:"Basic 7 JHS Amount",basic8GeneralAmount:"Basic 8 General Amount",basic8JHSAmount:"Basic 8 JHS Amount",basic9GeneralAmount:"Basic 9 General Amount",basic9JHSAmount:"Basic 9 JHS Amount",welfareAmount:"Welfare Amount",kitchen:"Kitchen Amount",numTeachers:"Number of Teachers",numJHSTeachers:"Number of JHS Teachers"})[d]||d,L=d=>{const x=d.includes("num")||d.includes("Teachers");return e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-slate-700 mb-2",children:F(d)}),e.jsx("input",{id:d,type:"number",min:"0",step:x?"1":"0.01",value:c[d],onChange:K=>u(d,K.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:x?"0":"0.00"})]},d)},O=()=>e.jsx("div",{className:"flex items-center justify-center mb-6",children:i.map((d,x)=>e.jsxs(ee.Fragment,{children:[e.jsx("div",{onClick:()=>H(x),className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium cursor-pointer transition-all ${x===s?"bg-blue-600 text-white":x<s?"bg-green-600 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:x<s?e.jsx(re,{className:"w-4 h-4"}):x+1}),x<i.length-1&&e.jsx("div",{className:`w-12 h-1 mx-2 rounded ${x<s?"bg-green-600":"bg-slate-200"}`})]},x))}),_=()=>a?e.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 mt-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center",children:[e.jsx(se,{className:"w-5 h-5 mr-2"}),"Calculation Results"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-blue-800 font-semibold mb-2",children:"Total General"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:g(a.totals.totalGeneral)})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-green-800 font-semibold mb-2",children:"Total JHS"}),e.jsx("div",{className:"text-2xl font-bold text-green-900",children:g(a.totals.totalJHS)})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"text-purple-800 font-semibold mb-2",children:"Total Sum"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:g(a.totals.totalSum)})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Deductions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[e.jsx("div",{className:"text-red-700 text-sm",children:"Welfare"}),e.jsx("div",{className:"text-lg font-bold text-red-800",children:g(a.deductions.welfare)})]}),e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"text-orange-700 text-sm",children:"Office (5%)"}),e.jsx("div",{className:"text-lg font-bold text-orange-800",children:g(a.deductions.office)})]}),e.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"text-yellow-700 text-sm",children:"Kitchen (5%)"}),e.jsx("div",{className:"text-lg font-bold text-yellow-800",children:g(a.deductions.kitchen)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Teacher Allocations"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[e.jsx("div",{className:"text-indigo-700 text-sm mb-1",children:"Each General Teacher"}),e.jsx("div",{className:"text-xl font-bold text-indigo-900",children:g(a.teacherAmounts.eachTeacherAmount)}),e.jsxs("div",{className:"text-xs text-indigo-600 mt-1",children:[c.numTeachers," teachers"]})]}),e.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[e.jsx("div",{className:"text-teal-700 text-sm mb-1",children:"Each JHS Teacher"}),e.jsx("div",{className:"text-xl font-bold text-teal-900",children:g(a.teacherAmounts.eachJHSTeacherAmount)}),e.jsxs("div",{className:"text-xs text-teal-600 mt-1",children:[c.numJHSTeachers," JHS teachers"]})]})]})]})]}):null,M=()=>l.length===0?null:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Recent Calculations"}),e.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors cursor-pointer",onClick:()=>w(d),children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-slate-700",children:["Total: ",g(d.results.totals.totalSum)]}),e.jsx("div",{className:"text-xs text-slate-500",children:new Date(d.timestamp).toLocaleString()})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:x=>{x.stopPropagation(),b(d.id,"json")},className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",title:"Export as JSON",children:e.jsx(ae,{className:"w-4 h-4"})})})]},d.id))})]});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(xe,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Classes Fees Distribution Calculator"})]}),e.jsx("p",{className:"text-slate-600",children:"Calculate teacher allowances based on class fees"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[O(),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-2",children:T?.title}),e.jsx("p",{className:"text-slate-600 text-sm",children:T?.description})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:T?.fields.map(L)})]}),n&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[e.jsx(te,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsx("span",{className:"text-red-700",children:n})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:A,disabled:J,className:`flex items-center px-4 py-2 rounded-lg font-medium transition-all ${J?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:[e.jsx(ie,{className:"w-4 h-4 mr-1"}),"Previous"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:f,className:"flex items-center px-4 py-2 text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-lg transition-all",title:"Reset All",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"Reset"]}),N?e.jsxs("button",{onClick:h,disabled:!j||t,className:`flex items-center px-6 py-2 rounded-lg font-medium transition-all ${!j||t?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),t?"Calculating...":"Calculate"]}):e.jsxs("button",{onClick:k,disabled:!j,className:`flex items-center px-4 py-2 rounded-lg font-medium transition-all ${j?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-300 text-slate-500 cursor-not-allowed"}`,children:["Next",e.jsx(me,{className:"w-4 h-4 ml-1"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-slate-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-blue-600 h-full transition-all duration-300 ease-out",style:{width:`${(s+1)/i.length*100}%`}})}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1 text-center",children:["Step ",s+1," of ",i.length]})]}),(c.numTeachers>0||c.numJHSTeachers>0)&&e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Quick Summary"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-slate-500",children:"General Teachers"}),e.jsx("div",{className:"font-semibold",children:c.numTeachers})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-slate-500",children:"JHS Teachers"}),e.jsx("div",{className:"font-semibold",children:c.numJHSTeachers})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-slate-500",children:"Welfare"}),e.jsx("div",{className:"font-semibold",children:g(c.welfareAmount)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-slate-500",children:"Kitchen"}),e.jsx("div",{className:"font-semibold",children:g(c.kitchen)})]})]})]})]}),_(),M(),e.jsx("div",{className:"text-center mt-8 text-slate-500 text-sm",children:e.jsx("p",{children:"© 2024 Classes Fees Distribution Calculator"})})]})})};export{Ce as default};
